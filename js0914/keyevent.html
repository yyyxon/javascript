<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title> </title>
<link rel="stylesheet" type="text/css" 
href="http://192.168.10.136/html_prj/common/css/main_v20230906.css"/>
<style type="text/css">
textarea {
    width: 300px;
    height: 100px;
}
</style>
<script type="text/javascript">
window.onload = function() {
    //document.getElementById("output").innerHTML = output;
    document.getElementById("kd").addEventListener("keydown",setKeyDown);
    document.getElementById("ku").addEventListener("keyup",setKeyUp);
    document.getElementById("msg").addEventListener("keydown",textLength);
}

//setKeyEvent
function setKeyDown(evt) {//매개변수를 정의하면 자바스크립트에서 생성된 window.event객체를 할당해준다.
    //keydown은 키가 눌리는 순간에 동작하기 때문에 keytext는 가지고 올 수 없다.
    var data = document.getElementById("kd").value;
    document.getElementById("output").value = "키 눌림  :" + data + "("+ evt.keyCode +")";
}

//2
function setKeyUp(evt) {
    //keyup은 키가 올라오는 순간에 동작하기 때문에 keytext를 가지고 올 수 있다.
    var data = document.getElementById("ku").value;
    document.getElementById("output").value = "키 올라옴 :" + data + "("+ evt.which +")";
}

function textLength() {
    var length = document.getElementById("msg").value.length;
    if(length >= 300){
        document.getElementById("msg").value = document.getElementById("msg").value.substring(0,300);
        alert("300자를 초과할 수 없습니다.");
        return;
    }
    document.getElementById("text_length").innerHTML = length;
}

</script>
</head>
<body>
<input type="text" name="kd" class="inputBox" id="kd"/> <br>
<input type="text" name="ku" class="inputBox" id="ku"/> <br>
<textarea id="output" class="inputBox"></textarea>

<div style="width: 400px; height: 300px; text-align: right;">
<textarea id="msg" class="inputBox" style="width:400px; height:200px"></textarea><br>
<span id="text_length">0</span>/300
</div>
</body>
</html>